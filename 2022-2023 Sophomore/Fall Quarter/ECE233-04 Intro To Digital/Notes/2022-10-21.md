---
excalidraw-default-mode: view
---

```toc

```

^TOC

<[[2022-2023 Sophomore/Fall Quarter/ECE233-04 Intro To Digital/Notes/2022-10-19|previous]] | [[2022-2023 Sophomore/Fall Quarter/ECE233-04 Intro To Digital/Notes/2022-10-24|next]]>

## Design Hierarchy

ALU Cells are groups with  MUX adder and associated gates.
OR 
You can put these ALU cells together with D flip flops into register cells.
OR 
You can put the ALU into an ALU cell then just slap a register on the output.


### Which one is Correct

The ALU + Register method is best if:
- The ALU output is the input to multiple registers
- You already have previously-debugged ALU and registers with the right capabilities available to you
The register cell version is best otherwise.


### Status things
Sometimes the status outputs are functions of the flip flop outputs.
- Neg and Zero are two examples
- Sometime more storage flip flops are needed to store these

### Control Signals
Control signals can either be unencoded or unencoded.

Basic shift registers are normally unencoded.
Operational registers are often encoded so that there isn't too many inputs.

Registers update on the active clock edge base on the data and control input values it has right *before* the  clock edge.


## Complex Finite State Machine Design

> The term <span style='color: orange;'>complex FSM</span> to describe a state machine containing both a control unit and a data path.

The data path is the registers and logic that process the data, and the control unit sends signals to the data path.


Register transfer operations are also known as <span style='color: orange;'>microoperations</span>.

### Example Complex Finite State Machine

![[Drawing 2022-10-21 12.15.50.excalidraw|10000]]

#### What are the registers and their capabilities?

Register **D**:
- $\text{D} \leftarrow \text{InB}$ Load ldrD
- $\text{D} \leftarrow \text{D}$ Hold

Register **R**:
- $\text{R} \leftarrow \text{InA}$ Load ldrR
- $\text{R} \leftarrow \text{R} - \text{D}$ Subtract subR
- $\text{R} \leftarrow \text{R}$ Hold

Register **Q**:
- $\text{Q} \leftarrow 0$ Sync/Clear clrQ
- $\text{Q}\leftarrow \text{Q}+1$ Increment incQ
- $\text{Q} \leftarrow \text{Q}$ Hold

#### Determine the Required Status Outputs
| Condition | Status Flag|
|:---:|:---:|
|(R-D)>0?|RgtD|
|(R-D)<0?|RltD|
|(R-D) == 0 ? | ReqD |

#### Redraw The FSM
Use the  control values to redraw the FSM

![[Drawing 2022-10-21 12.15.50.excalidraw 1|10000]]

#### Organize into data path and control

Data path and control communicate with each other
- Some data path inputs are control outputs

![[Drawing 2022-10-21 12.36.22.excalidraw|10000]]



